{% extends 'base.html' %}

{% block extraCSS %}
    <link href="{{ STATIC_URL }}css/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <link href="{{ STATIC_URL }}css/jquery-ui-timepicker.css" rel='stylesheet' type="text/css"/>
{% endblock %}

{% block extraJS %}
    {{ form.media }}
{% endblock %}

{% block main %}
    <!-- Subhead
	================================================== -->
    <div class='container' id="subcontainer">
        <div class='row clearfix' id='row1'>
            <!-- Region Left -->
            <div class="col-sm-4">
                <div id='hazard-request' class="formStyle">
                    {% load widget_tweaks %}
                    <p class="lead">CycleSafe allows cyclists and pedestrians to map dangerous routes in their
                        communities.</p>

                    <form class="form_data" method='POST' action="" role="form">
                        {% csrf_token %}
                        <div class="fieldWrapper">
                            <div class="form-group">
                                <label>User Type:</label>
                                {{ form.user_type|add_class:"form-control" }}
                            </div>
                            <div class="form-group">
                                <label>Hazard:</label> {{ form.hazard_type|add_class:"form-control" }}
                            </div>
                            <div class="form-group">
                                <label>Date &amp; Time:</label>
                                {{ form.dateTime|add_class:"form-control" }}
                                {#              <input type="text" class="form-control" id="datepicker">#}
                            </div>
                            <div class="form-group">
                                <p>Click on the map to set a different location.</p>
                                <label>Latitude:</label> {{ form.lat|add_class:"form-control" }}
                            </div>
                             <div class="form-group">
                                <label>Longitude:</label> {{ form.lon|add_class:"form-control" }}
                            </div>
                            <div class="form-group">
                                <label>Description:</label> {{ form.description|add_class:"form-control" }}
                            </div>
                        </div>
                        <input type="submit" class="submit" value="Submit"/>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div id="map-canvas"></div>
            {% block map %}
            {% endblock %}
        </div>
    </div>
{% endblock %}

{% block scripts_bottom %}
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery-ui-timepicker-addon.js"></script>

    <script>
        //jQuery datetime picker, which is part of the Report a Hazard view.
        $('#id_dateTime').datetimepicker();
    </script>
{% endblock %}